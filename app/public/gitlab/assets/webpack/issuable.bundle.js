webpackJsonp([12],{"2P/j":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 14" enable-background="new 0 0 12 14"><path d="m11.5 2.4l-1.3-1.1-1 1.1 1.4 1.1.9-1.1"/><path d="m6.8 2v-.5h.5v-1.5h-2.6v1.5h.5v.5c-2.9.4-5.2 2.9-5.2 6 0 3.3 2.7 6 6 6s6-2.7 6-6c0-3-2.3-5.6-5.2-6m-.8 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5"/><path d="m6.2 8.9h-.5c-.1 0-.2-.1-.2-.2v-3.5c0-.1.1-.2.2-.2h.5c.1 0 .2.1.2.2v3.5c0 .1-.1.2-.2.2"/></svg>\n'},MRGx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JTVE"),i=n("2P/j"),s=n.n(i);n("I8f0"),function(){a.default.component("time-tracking-collapsed-state",{name:"time-tracking-collapsed-state",props:["showComparisonState","showSpentOnlyState","showEstimateOnlyState","showNoTimeTrackingState","timeSpentHumanReadable","timeEstimateHumanReadable"],methods:{abbreviateTime:function(e){return gl.utils.prettyTime.abbreviateTime(e)}},template:"\n      <div class='sidebar-collapsed-icon'>\n        "+s.a+"\n        <div class='time-tracking-collapsed-summary'>\n          <div class='compare' v-if='showComparisonState'>\n            <span>{{ abbreviateTime(timeSpentHumanReadable) }} / {{ abbreviateTime(timeEstimateHumanReadable) }}</span>\n          </div>\n          <div class='estimate-only' v-if='showEstimateOnlyState'>\n            <span class='bold'>-- / {{ abbreviateTime(timeEstimateHumanReadable) }}</span>\n          </div>\n          <div class='spend-only' v-if='showSpentOnlyState'>\n            <span class='bold'>{{ abbreviateTime(timeSpentHumanReadable) }} / --</span>\n          </div>\n          <div class='no-tracking' v-if='showNoTimeTrackingState'>\n            <span class='no-value'>None</span>\n          </div>\n        </div>\n      </div>\n      "})}()},P0QM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JTVE");!function(){a.default.component("time-tracking-spent-only-pane",{name:"time-tracking-spent-only-pane",props:["timeSpentHumanReadable"],template:"\n      <div class='time-tracking-spend-only-pane'>\n        <span class='bold'>Spent:</span>\n        {{ timeSpentHumanReadable }}\n      </div>\n    "})}()},QeeU:function(e,t,n){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("JTVE"),s=n("7UJR"),m=n.n(s),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n("sEe6"),n("EQHa"),n("OX5X"),i.default.use(m.a),function(){var t=function(){function t(e){a(this,t);var n=JSON.parse(e);return this.initComponent(n)}return o(t,[{key:"initComponent",value:function(t){this.parentInstance=new i.default({el:"#issuable-time-tracker",data:{issuable:t},methods:{fetchIssuable:function(){return gl.IssuableResource.get.call(gl.IssuableResource,{type:"GET",url:gl.IssuableResource.endpoint})},updateState:function(e){this.issuable=e},subscribeToUpdates:function(){var e=this;gl.IssuableResource.subscribe(function(t){return e.updateState(t)})},listenForSlashCommands:function(){var t=this;e(document).on("ajax:success",".gfm-form",function(e,n){var a=["spend_time","time_estimate"],i=n.commands_changes?Object.keys(n.commands_changes):[];i&&_.intersection(a,i).length&&t.fetchIssuable()})}},created:function(){this.fetchIssuable()},mounted:function(){this.subscribeToUpdates(),this.listenForSlashCommands()}})}}]),t}();gl.IssuableTimeTracking=t}(window.gl||(window.gl={}))}).call(t,n("lwLq"))},aCc3:function(e,t,n){n("QeeU")},dwzv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JTVE");!function(){a.default.component("time-tracking-no-tracking-pane",{name:"time-tracking-no-tracking-pane",template:"\n      <div class='time-tracking-no-tracking-pane'>\n        <span class='no-value'>No estimate or time spent</span>\n      </div>\n    "})}()},g393:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JTVE");!function(){a.default.component("time-tracking-help-state",{name:"time-tracking-help-state",props:["docsUrl"],template:"\n      <div class='time-tracking-help-state'>\n        <div class='time-tracking-info'>\n          <h4>Track time with slash commands</h4>\n          <p>Slash commands can be used in the issues description and comment boxes.</p>\n          <p>\n            <code>/estimate</code>\n            will update the estimated time with the latest command.\n          </p>\n          <p>\n            <code>/spend</code>\n            will update the sum of the time spent.\n          </p>\n          <a class='btn btn-default learn-more-button' :href='docsUrl'>Learn more</a>\n        </div>\n      </div>\n    "})}()},jOPE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JTVE");n("I8f0"),function(){var e=gl.utils.prettyTime;a.default.component("time-tracking-comparison-pane",{name:"time-tracking-comparison-pane",props:["timeSpent","timeEstimate","timeSpentHumanReadable","timeEstimateHumanReadable"],computed:{parsedRemaining:function(){var t=this.timeEstimate-this.timeSpent;return e.parseSeconds(t)},timeRemainingHumanReadable:function(){return e.stringifyTime(this.parsedRemaining)},timeRemainingTooltip:function(){return(this.timeRemainingMinutes<0?"Over by":"Time remaining:")+" "+this.timeRemainingHumanReadable},timeRemainingMinutes:function(){return this.timeEstimate-this.timeSpent},timeRemainingPercent:function(){return Math.floor(this.timeSpent/this.timeEstimate*100)+"%"},timeRemainingStatusClass:function(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},parsedEstimate:function(){return e.parseSeconds(this.timeEstimate)},parsedSpent:function(){return e.parseSeconds(this.timeSpent)}},template:"\n      <div class='time-tracking-comparison-pane'>\n        <div class='compare-meter' data-toggle='tooltip' data-placement='top' role='timeRemainingDisplay'\n          :aria-valuenow='timeRemainingTooltip'\n          :title='timeRemainingTooltip'\n          :data-original-title='timeRemainingTooltip'\n          :class='timeRemainingStatusClass'>\n          <div class='meter-container' role='timeSpentPercent' :aria-valuenow='timeRemainingPercent'>\n            <div :style='{ width: timeRemainingPercent }' class='meter-fill'></div>\n          </div>\n          <div class='compare-display-container'>\n            <div class='compare-display pull-left'>\n              <span class='compare-label'>Spent</span>\n              <span class='compare-value spent'>{{ timeSpentHumanReadable }}</span>\n            </div>\n            <div class='compare-display estimated pull-right'>\n              <span class='compare-label'>Est</span>\n              <span class='compare-value'>{{ timeEstimateHumanReadable }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    "})}()},juMy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JTVE");!function(){a.default.component("time-tracking-estimate-only-pane",{name:"time-tracking-estimate-only-pane",props:["timeEstimateHumanReadable"],template:"\n      <div class='time-tracking-estimate-only-pane'>\n        <span class='bold'>Estimated:</span>\n        {{ timeEstimateHumanReadable }}\n      </div>\n    "})}()},sEe6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("JTVE");n("g393"),n("MRGx"),n("P0QM"),n("dwzv"),n("juMy"),n("jOPE"),function(){a.default.component("issuable-time-tracker",{name:"issuable-time-tracker",props:["time_estimate","time_spent","human_time_estimate","human_time_spent","docsUrl"],data:function(){return{showHelp:!1}},computed:{timeSpent:function(){return this.time_spent},timeEstimate:function(){return this.time_estimate},timeEstimateHumanReadable:function(){return this.human_time_estimate},timeSpentHumanReadable:function(){return this.human_time_spent},hasTimeSpent:function(){return!!this.timeSpent},hasTimeEstimate:function(){return!!this.timeEstimate},showComparisonState:function(){return this.hasTimeEstimate&&this.hasTimeSpent},showEstimateOnlyState:function(){return this.hasTimeEstimate&&!this.hasTimeSpent},showSpentOnlyState:function(){return this.hasTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState:function(){return!this.hasTimeEstimate&&!this.hasTimeSpent},showHelpState:function(){return!!this.showHelp}},methods:{toggleHelpState:function(e){this.showHelp=e}},template:"\n      <div class='time_tracker time-tracking-component-wrap' v-cloak>\n        <time-tracking-collapsed-state\n          :show-comparison-state='showComparisonState'\n          :show-help-state='showHelpState'\n          :show-spent-only-state='showSpentOnlyState'\n          :show-estimate-only-state='showEstimateOnlyState'\n          :time-spent-human-readable='timeSpentHumanReadable'\n          :time-estimate-human-readable='timeEstimateHumanReadable'>\n        </time-tracking-collapsed-state>\n        <div class='title hide-collapsed'>\n          Time tracking\n          <div class='help-button pull-right'\n            v-if='!showHelpState'\n            @click='toggleHelpState(true)'>\n            <i class='fa fa-question-circle' aria-hidden='true'></i>\n          </div>\n          <div class='close-help-button pull-right'\n            v-if='showHelpState'\n            @click='toggleHelpState(false)'>\n            <i class='fa fa-close' aria-hidden='true'></i>\n          </div>\n        </div>\n        <div class='time-tracking-content hide-collapsed'>\n          <time-tracking-estimate-only-pane\n            v-if='showEstimateOnlyState'\n            :time-estimate-human-readable='timeEstimateHumanReadable'>\n          </time-tracking-estimate-only-pane>\n          <time-tracking-spent-only-pane\n            v-if='showSpentOnlyState'\n            :time-spent-human-readable='timeSpentHumanReadable'>\n          </time-tracking-spent-only-pane>\n          <time-tracking-no-tracking-pane\n            v-if='showNoTimeTrackingState'>\n          </time-tracking-no-tracking-pane>\n          <time-tracking-comparison-pane\n            v-if='showComparisonState'\n            :time-estimate='timeEstimate'\n            :time-spent='timeSpent'\n            :time-spent-human-readable='timeSpentHumanReadable'\n            :time-estimate-human-readable='timeEstimateHumanReadable'>\n          </time-tracking-comparison-pane>\n          <transition name='help-state-toggle'>\n            <time-tracking-help-state\n              v-if='showHelpState'\n              :docs-url='docsUrl'>\n            </time-tracking-help-state>\n          </transition>\n        </div>\n      </div>\n    "})}()}},["aCc3"]);
//# sourceMappingURL=issuable.5b6c9697ac3a08e4921b.bundle.js.map