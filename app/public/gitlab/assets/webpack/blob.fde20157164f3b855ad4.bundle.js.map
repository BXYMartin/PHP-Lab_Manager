{"version":3,"sources":["webpack:///blob.fde20157164f3b855ad4.bundle.js","webpack:///./blob_edit/edit_blob.js","webpack:///./blob/template_selectors/gitignore_selector.js","webpack:///./blob_edit/blob_bundle.js","webpack:///./blob/blob_file_dropzone.js","webpack:///./blob/template_selectors/dockerfile_selector.js","webpack:///./blob/file_template_mediator.js","webpack:///./blob/file_template_selector.js","webpack:///./blob/template_selectors/type_selector.js","webpack:///./blob/template_selectors/ci_yaml_selector.js","webpack:///./blob/template_selectors/license_selector.js"],"names":["webpackJsonp","27Qp","module","__webpack_exports__","__webpack_require__","$","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0__blob_file_template_mediator__","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","EditBlob","assetsPath","aceMode","currentAction","this","configureAceEditor","initModePanesAndLinks","initSoftWrap","initFileSelectors","value","ace","config","set","loadModule","editor","edit","$blockScrolling","Infinity","focus","getSession","setMode","fileTemplateMediator","_this","$editModePanes","$editModeLinks","on","e","editModeLinkClickHandler","preventDefault","currentLink","paneId","attr","currentPane","filter","parent","removeClass","addClass","hide","fadeIn","$toggleButton","post","data","content","getValue","response","empty","append","renderGFM","show","_this2","isSoftWrapped","toggleSoftWrap","toggleClass","setUseWrapMode","call","9CMo","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0__file_template_selector__","BlobGitignoreSelector","_FileTemplateSelector","_ref","mediator","getPrototypeOf","name","pattern","endpoint","Api","gitignoreText","dropdown","wrapper","$dropdown","glDropdown","filterable","selectable","toggleLabel","item","search","fields","clicked","query","el","reportSelection","text","CtDz","__WEBPACK_IMPORTED_MODULE_0__edit_blob__","__WEBPACK_IMPORTED_MODULE_1__blob_blob_file_dropzone__","editBlobForm","uploadBlobForm","urlRoot","blobLanguage","NewCommitForm","method","window","gl","utils","disableButtonIfEmptyField","find","LJ1f","BlobFileDropzone","form","formDropzone","Dropzone","autoDiscover","dropzone","autoProcessQueue","url","clickable","uploadMultiple","paramName","maxFilesize","gon","max_file_size","parallelUploads","maxFiles","addRemoveLinks","previewsContainer","headers","X-CSRF-Token","init","html","header","location","href","filePath","file","removeFile","xhr","formData","val","error","errorMessage","stripped","addEventListener","stopPropagation","getQueuedFiles","alert","processQueue","LkJf","DockerfileSelector","dockerfileYml","Qy17","__WEBPACK_IMPORTED_MODULE_0__template_selectors_type_selector__","__WEBPACK_IMPORTED_MODULE_1__template_selectors_ci_yaml_selector__","__WEBPACK_IMPORTED_MODULE_2__template_selectors_dockerfile_selector__","__WEBPACK_IMPORTED_MODULE_3__template_selectors_gitignore_selector__","__WEBPACK_IMPORTED_MODULE_4__template_selectors_license_selector__","FileTemplateMediator","initTemplateSelectors","initTemplateTypeSelector","initDomElements","initDropdowns","initPageEvents","templateSelectors","map","TemplateSelectorClass","typeSelector","dropdownData","templateSelector","cfg","$templatesMenu","$undoMenu","$fileEditor","$undoBtn","$templateSelectors","$filenameInput","$fileContent","$commitForm","$navLinks","hideTemplateSelectorMenu","displayMatchedTemplateSelector","listenForFilenameInput","prepFileContentForSubmit","listenForPreviewMode","_this3","submit","_this4","urlPieces","split","hash","showTemplateSelectorMenu","forEach","selector","setToggleText","cacheToggleText","_this5","renderLoading","destroyUndoMenu","fetchFileTemplate","then","showUndoMenu","setEditorContent","setFilename","renderLoaded","catch","err","Flash","_this6","currentInput","getFilename","test","selectTemplateType","apiCall","Promise","resolve","resolveFile","newValue","setValue","navigateFileStart","_this7","restoreFromCache","cacheFileContents","off","cachedToggleText","getTemplateSelectorToggleText","cachedContent","cachedFilename","setTemplateSelectorToggleText","getToggleText","selected","TXRQ","FileTemplateSelector","$wrapper","$loadingIcon","$dropdownToggleText","initDropdown","selectTemplateFile","l5bu","FileTemplateTypeSelector","r6am","BlobCiYamlSelector","gitlabCiYml","sLet","BlobLicenseSelector","licenseText","project","fullname","id"],"mappings":"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","file":"blob.fde20157164f3b855ad4.bundle.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ \"27Qp\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__blob_file_template_mediator__ = __webpack_require__(\"Qy17\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global ace */\n\n\n\nvar EditBlob = function () {\n  function EditBlob(assetsPath, aceMode, currentAction) {\n    _classCallCheck(this, EditBlob);\n\n    this.configureAceEditor(aceMode, assetsPath);\n    this.initModePanesAndLinks();\n    this.initSoftWrap();\n    this.initFileSelectors(currentAction);\n  }\n\n  _createClass(EditBlob, [{\n    key: 'configureAceEditor',\n    value: function configureAceEditor(aceMode, assetsPath) {\n      ace.config.set('modePath', assetsPath + '/ace');\n      ace.config.loadModule('ace/ext/searchbox');\n\n      this.editor = ace.edit('editor');\n\n      // This prevents warnings re: automatic scrolling being logged\n      this.editor.$blockScrolling = Infinity;\n\n      this.editor.focus();\n\n      if (aceMode) {\n        this.editor.getSession().setMode('ace/mode/' + aceMode);\n      }\n    }\n  }, {\n    key: 'initFileSelectors',\n    value: function initFileSelectors(currentAction) {\n      this.fileTemplateMediator = new __WEBPACK_IMPORTED_MODULE_0__blob_file_template_mediator__[\"a\" /* default */]({\n        currentAction: currentAction,\n        editor: this.editor\n      });\n    }\n  }, {\n    key: 'initModePanesAndLinks',\n    value: function initModePanesAndLinks() {\n      var _this = this;\n\n      this.$editModePanes = $('.js-edit-mode-pane');\n      this.$editModeLinks = $('.js-edit-mode a');\n      this.$editModeLinks.on('click', function (e) {\n        return _this.editModeLinkClickHandler(e);\n      });\n    }\n  }, {\n    key: 'editModeLinkClickHandler',\n    value: function editModeLinkClickHandler(e) {\n      e.preventDefault();\n\n      var currentLink = $(e.target);\n      var paneId = currentLink.attr('href');\n      var currentPane = this.$editModePanes.filter(paneId);\n\n      this.$editModeLinks.parent().removeClass('active hover');\n\n      currentLink.parent().addClass('active hover');\n\n      this.$editModePanes.hide();\n\n      currentPane.fadeIn(200);\n\n      if (paneId === '#preview') {\n        this.$toggleButton.hide();\n        return $.post(currentLink.data('preview-url'), {\n          content: this.editor.getValue()\n        }, function (response) {\n          currentPane.empty().append(response);\n          return currentPane.renderGFM();\n        });\n      }\n\n      this.$toggleButton.show();\n\n      return this.editor.focus();\n    }\n  }, {\n    key: 'initSoftWrap',\n    value: function initSoftWrap() {\n      var _this2 = this;\n\n      this.isSoftWrapped = false;\n      this.$toggleButton = $('.soft-wrap-toggle');\n      this.$toggleButton.on('click', function () {\n        return _this2.toggleSoftWrap();\n      });\n    }\n  }, {\n    key: 'toggleSoftWrap',\n    value: function toggleSoftWrap() {\n      this.isSoftWrapped = !this.isSoftWrapped;\n      this.$toggleButton.toggleClass('soft-wrap-active', this.isSoftWrapped);\n      this.editor.getSession().setUseWrapMode(this.isSoftWrapped);\n    }\n  }]);\n\n  return EditBlob;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (EditBlob);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"lwLq\")))\n\n/***/ }),\n\n/***/ \"9CMo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__file_template_selector__ = __webpack_require__(\"TXRQ\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global Api */\n\n\n\nvar BlobGitignoreSelector = function (_FileTemplateSelector) {\n  _inherits(BlobGitignoreSelector, _FileTemplateSelector);\n\n  function BlobGitignoreSelector(_ref) {\n    var mediator = _ref.mediator;\n\n    _classCallCheck(this, BlobGitignoreSelector);\n\n    var _this = _possibleConstructorReturn(this, (BlobGitignoreSelector.__proto__ || Object.getPrototypeOf(BlobGitignoreSelector)).call(this, mediator));\n\n    _this.config = {\n      key: 'gitignore',\n      name: '.gitignore',\n      pattern: /(.gitignore)/,\n      endpoint: Api.gitignoreText,\n      dropdown: '.js-gitignore-selector',\n      wrapper: '.js-gitignore-selector-wrap'\n    };\n    return _this;\n  }\n\n  _createClass(BlobGitignoreSelector, [{\n    key: 'initDropdown',\n    value: function initDropdown() {\n      var _this2 = this;\n\n      this.$dropdown.glDropdown({\n        data: this.$dropdown.data('data'),\n        filterable: true,\n        selectable: true,\n        toggleLabel: function toggleLabel(item) {\n          return item.name;\n        },\n        search: {\n          fields: ['name']\n        },\n        clicked: function clicked(query, el, e) {\n          return _this2.reportSelection(query.name, el, e);\n        },\n        text: function text(item) {\n          return item.name;\n        }\n      });\n    }\n  }]);\n\n  return BlobGitignoreSelector;\n}(__WEBPACK_IMPORTED_MODULE_0__file_template_selector__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BlobGitignoreSelector);\n\n/***/ }),\n\n/***/ \"CtDz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__edit_blob__ = __webpack_require__(\"27Qp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__blob_blob_file_dropzone__ = __webpack_require__(\"LJ1f\");\n/* eslint-disable func-names, space-before-function-paren, prefer-arrow-callback, no-var, quotes, vars-on-top, no-unused-vars, no-new, max-len */\n/* global EditBlob */\n/* global NewCommitForm */\n\n\n\n\n$(function () {\n  var editBlobForm = $('.js-edit-blob-form');\n  var uploadBlobForm = $('.js-upload-blob-form');\n\n  if (editBlobForm.length) {\n    var urlRoot = editBlobForm.data('relative-url-root');\n    var assetsPath = editBlobForm.data('assets-prefix');\n    var blobLanguage = editBlobForm.data('blob-language');\n    var currentAction = $('.js-file-title').data('current-action');\n\n    new __WEBPACK_IMPORTED_MODULE_0__edit_blob__[\"a\" /* default */]('' + urlRoot + assetsPath, blobLanguage, currentAction);\n    new NewCommitForm(editBlobForm);\n  }\n\n  if (uploadBlobForm.length) {\n    var method = uploadBlobForm.data('method');\n\n    new __WEBPACK_IMPORTED_MODULE_1__blob_blob_file_dropzone__[\"a\" /* default */](uploadBlobForm, method);\n    new NewCommitForm(uploadBlobForm);\n\n    window.gl.utils.disableButtonIfEmptyField(uploadBlobForm.find('.js-commit-message'), '.btn-upload-file');\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"lwLq\")))\n\n/***/ }),\n\n/***/ \"LJ1f\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable func-names, object-shorthand, prefer-arrow-callback */\n/* global Dropzone */\n\nvar BlobFileDropzone = function BlobFileDropzone(form, method) {\n  _classCallCheck(this, BlobFileDropzone);\n\n  var formDropzone = form.find('.dropzone');\n  Dropzone.autoDiscover = false;\n\n  var dropzone = formDropzone.dropzone({\n    autoDiscover: false,\n    autoProcessQueue: false,\n    url: form.attr('action'),\n    // Rails uses a hidden input field for PUT\n    // http://stackoverflow.com/questions/21056482/how-to-set-method-put-in-form-tag-in-rails\n    method: method,\n    clickable: true,\n    uploadMultiple: false,\n    paramName: 'file',\n    maxFilesize: gon.max_file_size || 10,\n    parallelUploads: 1,\n    maxFiles: 1,\n    addRemoveLinks: true,\n    previewsContainer: '.dropzone-previews',\n    headers: {\n      'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')\n    },\n    init: function init() {\n      this.on('addedfile', function () {\n        $('.dropzone-alerts').html('').hide();\n      });\n      this.on('success', function (header, response) {\n        window.location.href = response.filePath;\n      });\n      this.on('maxfilesexceeded', function (file) {\n        this.removeFile(file);\n      });\n      this.on('sending', function (file, xhr, formData) {\n        formData.append('target_branch', form.find('input[name=\"target_branch\"]').val());\n        formData.append('create_merge_request', form.find('.js-create-merge-request').val());\n        formData.append('commit_message', form.find('.js-commit-message').val());\n      });\n    },\n    // Override behavior of adding error underneath preview\n    error: function error(file, errorMessage) {\n      var stripped = $('<div/>').html(errorMessage).text();\n      $('.dropzone-alerts').html('Error uploading file: \"' + stripped + '\"').show();\n      this.removeFile(file);\n    }\n  });\n\n  var submitButton = form.find('#submit-all')[0];\n  submitButton.addEventListener('click', function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (dropzone[0].dropzone.getQueuedFiles().length === 0) {\n      // eslint-disable-next-line no-alert\n      alert('Please select a file');\n    }\n    dropzone[0].dropzone.processQueue();\n    return false;\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BlobFileDropzone);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"lwLq\")))\n\n/***/ }),\n\n/***/ \"LkJf\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__file_template_selector__ = __webpack_require__(\"TXRQ\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global Api */\n\n\n\nvar DockerfileSelector = function (_FileTemplateSelector) {\n  _inherits(DockerfileSelector, _FileTemplateSelector);\n\n  function DockerfileSelector(_ref) {\n    var mediator = _ref.mediator;\n\n    _classCallCheck(this, DockerfileSelector);\n\n    var _this = _possibleConstructorReturn(this, (DockerfileSelector.__proto__ || Object.getPrototypeOf(DockerfileSelector)).call(this, mediator));\n\n    _this.config = {\n      key: 'dockerfile',\n      name: 'Dockerfile',\n      pattern: /(Dockerfile)/,\n      endpoint: Api.dockerfileYml,\n      dropdown: '.js-dockerfile-selector',\n      wrapper: '.js-dockerfile-selector-wrap'\n    };\n    return _this;\n  }\n\n  _createClass(DockerfileSelector, [{\n    key: 'initDropdown',\n    value: function initDropdown() {\n      var _this2 = this;\n\n      // maybe move to super class as well\n      this.$dropdown.glDropdown({\n        data: this.$dropdown.data('data'),\n        filterable: true,\n        selectable: true,\n        toggleLabel: function toggleLabel(item) {\n          return item.name;\n        },\n        search: {\n          fields: ['name']\n        },\n        clicked: function clicked(query, el, e) {\n          return _this2.reportSelection(query.name, el, e);\n        },\n        text: function text(item) {\n          return item.name;\n        }\n      });\n    }\n  }]);\n\n  return DockerfileSelector;\n}(__WEBPACK_IMPORTED_MODULE_0__file_template_selector__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (DockerfileSelector);\n\n/***/ }),\n\n/***/ \"Qy17\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__template_selectors_type_selector__ = __webpack_require__(\"l5bu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__template_selectors_ci_yaml_selector__ = __webpack_require__(\"r6am\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__template_selectors_dockerfile_selector__ = __webpack_require__(\"LkJf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__template_selectors_gitignore_selector__ = __webpack_require__(\"9CMo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__template_selectors_license_selector__ = __webpack_require__(\"sLet\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable class-methods-use-this */\n/* global Flash */\n\n\n\n\n\n\n\nvar FileTemplateMediator = function () {\n  function FileTemplateMediator(_ref) {\n    var editor = _ref.editor,\n        currentAction = _ref.currentAction;\n\n    _classCallCheck(this, FileTemplateMediator);\n\n    this.editor = editor;\n    this.currentAction = currentAction;\n\n    this.initTemplateSelectors();\n    this.initTemplateTypeSelector();\n    this.initDomElements();\n    this.initDropdowns();\n    this.initPageEvents();\n  }\n\n  _createClass(FileTemplateMediator, [{\n    key: 'initTemplateSelectors',\n    value: function initTemplateSelectors() {\n      var _this = this;\n\n      // Order dictates template type dropdown item order\n      this.templateSelectors = [__WEBPACK_IMPORTED_MODULE_3__template_selectors_gitignore_selector__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_1__template_selectors_ci_yaml_selector__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_2__template_selectors_dockerfile_selector__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_4__template_selectors_license_selector__[\"a\" /* default */]].map(function (TemplateSelectorClass) {\n        return new TemplateSelectorClass({ mediator: _this });\n      });\n    }\n  }, {\n    key: 'initTemplateTypeSelector',\n    value: function initTemplateTypeSelector() {\n      this.typeSelector = new __WEBPACK_IMPORTED_MODULE_0__template_selectors_type_selector__[\"a\" /* default */]({\n        mediator: this,\n        dropdownData: this.templateSelectors.map(function (templateSelector) {\n          var cfg = templateSelector.config;\n\n          return {\n            name: cfg.name,\n            key: cfg.key\n          };\n        })\n      });\n    }\n  }, {\n    key: 'initDomElements',\n    value: function initDomElements() {\n      var $templatesMenu = $('.template-selectors-menu');\n      var $undoMenu = $templatesMenu.find('.template-selectors-undo-menu');\n      var $fileEditor = $('.file-editor');\n\n      this.$templatesMenu = $templatesMenu;\n      this.$undoMenu = $undoMenu;\n      this.$undoBtn = $undoMenu.find('button');\n      this.$templateSelectors = $templatesMenu.find('.template-selector-dropdowns-wrap');\n      this.$filenameInput = $fileEditor.find('.js-file-path-name-input');\n      this.$fileContent = $fileEditor.find('#file-content');\n      this.$commitForm = $fileEditor.find('form');\n      this.$navLinks = $fileEditor.find('.nav-links');\n    }\n  }, {\n    key: 'initDropdowns',\n    value: function initDropdowns() {\n      if (this.currentAction === 'create') {\n        this.typeSelector.show();\n      } else {\n        this.hideTemplateSelectorMenu();\n      }\n\n      this.displayMatchedTemplateSelector();\n    }\n  }, {\n    key: 'initPageEvents',\n    value: function initPageEvents() {\n      this.listenForFilenameInput();\n      this.prepFileContentForSubmit();\n      this.listenForPreviewMode();\n    }\n  }, {\n    key: 'listenForFilenameInput',\n    value: function listenForFilenameInput() {\n      var _this2 = this;\n\n      this.$filenameInput.on('keyup blur', function () {\n        _this2.displayMatchedTemplateSelector();\n      });\n    }\n  }, {\n    key: 'prepFileContentForSubmit',\n    value: function prepFileContentForSubmit() {\n      var _this3 = this;\n\n      this.$commitForm.submit(function () {\n        _this3.$fileContent.val(_this3.editor.getValue());\n      });\n    }\n  }, {\n    key: 'listenForPreviewMode',\n    value: function listenForPreviewMode() {\n      var _this4 = this;\n\n      this.$navLinks.on('click', 'a', function (e) {\n        var urlPieces = e.target.href.split('#');\n        var hash = urlPieces[1];\n        if (hash === 'preview') {\n          _this4.hideTemplateSelectorMenu();\n        } else if (hash === 'editor') {\n          _this4.showTemplateSelectorMenu();\n        }\n      });\n    }\n  }, {\n    key: 'selectTemplateType',\n    value: function selectTemplateType(item, el, e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      this.templateSelectors.forEach(function (selector) {\n        if (selector.config.key === item.key) {\n          selector.show();\n        } else {\n          selector.hide();\n        }\n      });\n\n      this.typeSelector.setToggleText(item.name);\n\n      this.cacheToggleText();\n    }\n  }, {\n    key: 'selectTemplateFile',\n    value: function selectTemplateFile(selector, query, data) {\n      var _this5 = this;\n\n      selector.renderLoading();\n      // in case undo menu is already already there\n      this.destroyUndoMenu();\n      this.fetchFileTemplate(selector.config.endpoint, query, data).then(function (file) {\n        _this5.showUndoMenu();\n        _this5.setEditorContent(file);\n        _this5.setFilename(selector.config.name);\n        selector.renderLoaded();\n      }).catch(function (err) {\n        return new Flash('An error occurred while fetching the template: ' + err);\n      });\n    }\n  }, {\n    key: 'displayMatchedTemplateSelector',\n    value: function displayMatchedTemplateSelector() {\n      var _this6 = this;\n\n      var currentInput = this.getFilename();\n      this.templateSelectors.forEach(function (selector) {\n        var match = selector.config.pattern.test(currentInput);\n\n        if (match) {\n          _this6.typeSelector.show();\n          _this6.selectTemplateType(selector.config);\n          _this6.showTemplateSelectorMenu();\n        }\n      });\n    }\n  }, {\n    key: 'fetchFileTemplate',\n    value: function fetchFileTemplate(apiCall, query, data) {\n      return new Promise(function (resolve) {\n        var resolveFile = function resolveFile(file) {\n          return resolve(file);\n        };\n\n        if (!data) {\n          apiCall(query, resolveFile);\n        } else {\n          apiCall(query, data, resolveFile);\n        }\n      });\n    }\n  }, {\n    key: 'setEditorContent',\n    value: function setEditorContent(file) {\n      if (!file && file !== '') return;\n\n      var newValue = file.content || file;\n\n      this.editor.setValue(newValue, 1);\n\n      this.editor.focus();\n\n      this.editor.navigateFileStart();\n    }\n  }, {\n    key: 'findTemplateSelectorByKey',\n    value: function findTemplateSelectorByKey(key) {\n      return this.templateSelectors.find(function (selector) {\n        return selector.config.key === key;\n      });\n    }\n  }, {\n    key: 'showUndoMenu',\n    value: function showUndoMenu() {\n      var _this7 = this;\n\n      this.$undoMenu.removeClass('hidden');\n\n      this.$undoBtn.on('click', function () {\n        _this7.restoreFromCache();\n        _this7.destroyUndoMenu();\n      });\n    }\n  }, {\n    key: 'destroyUndoMenu',\n    value: function destroyUndoMenu() {\n      this.cacheFileContents();\n      this.cacheToggleText();\n      this.$undoMenu.addClass('hidden');\n      this.$undoBtn.off('click');\n    }\n  }, {\n    key: 'hideTemplateSelectorMenu',\n    value: function hideTemplateSelectorMenu() {\n      this.$templatesMenu.hide();\n    }\n  }, {\n    key: 'showTemplateSelectorMenu',\n    value: function showTemplateSelectorMenu() {\n      this.$templatesMenu.show();\n    }\n  }, {\n    key: 'cacheToggleText',\n    value: function cacheToggleText() {\n      this.cachedToggleText = this.getTemplateSelectorToggleText();\n    }\n  }, {\n    key: 'cacheFileContents',\n    value: function cacheFileContents() {\n      this.cachedContent = this.editor.getValue();\n      this.cachedFilename = this.getFilename();\n    }\n  }, {\n    key: 'restoreFromCache',\n    value: function restoreFromCache() {\n      this.setEditorContent(this.cachedContent);\n      this.setFilename(this.cachedFilename);\n      this.setTemplateSelectorToggleText();\n    }\n  }, {\n    key: 'getTemplateSelectorToggleText',\n    value: function getTemplateSelectorToggleText() {\n      return this.$templateSelectors.find('.js-template-selector-wrap:visible .dropdown-toggle-text').text();\n    }\n  }, {\n    key: 'setTemplateSelectorToggleText',\n    value: function setTemplateSelectorToggleText() {\n      return this.$templateSelectors.find('.js-template-selector-wrap:visible .dropdown-toggle-text').text(this.cachedToggleText);\n    }\n  }, {\n    key: 'getTypeSelectorToggleText',\n    value: function getTypeSelectorToggleText() {\n      return this.typeSelector.getToggleText();\n    }\n  }, {\n    key: 'getFilename',\n    value: function getFilename() {\n      return this.$filenameInput.val();\n    }\n  }, {\n    key: 'setFilename',\n    value: function setFilename(name) {\n      this.$filenameInput.val(name);\n    }\n  }, {\n    key: 'getSelected',\n    value: function getSelected() {\n      return this.templateSelectors.find(function (selector) {\n        return selector.selected;\n      });\n    }\n  }]);\n\n  return FileTemplateMediator;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FileTemplateMediator);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"lwLq\")))\n\n/***/ }),\n\n/***/ \"TXRQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global Api */\n\nvar FileTemplateSelector = function () {\n  function FileTemplateSelector(mediator) {\n    _classCallCheck(this, FileTemplateSelector);\n\n    this.mediator = mediator;\n    this.$dropdown = null;\n    this.$wrapper = null;\n  }\n\n  _createClass(FileTemplateSelector, [{\n    key: 'init',\n    value: function init() {\n      var cfg = this.config;\n\n      this.$dropdown = $(cfg.dropdown);\n      this.$wrapper = $(cfg.wrapper);\n      this.$loadingIcon = this.$wrapper.find('.fa-chevron-down');\n      this.$dropdownToggleText = this.$wrapper.find('.dropdown-toggle-text');\n\n      this.initDropdown();\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      if (this.$dropdown === null) {\n        this.init();\n      }\n\n      this.$wrapper.removeClass('hidden');\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      if (this.$dropdown !== null) {\n        this.$wrapper.addClass('hidden');\n      }\n    }\n  }, {\n    key: 'getToggleText',\n    value: function getToggleText() {\n      return this.$dropdownToggleText.text();\n    }\n  }, {\n    key: 'setToggleText',\n    value: function setToggleText(text) {\n      this.$dropdownToggleText.text(text);\n    }\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading() {\n      this.$loadingIcon.addClass('fa-spinner fa-spin').removeClass('fa-chevron-down');\n    }\n  }, {\n    key: 'renderLoaded',\n    value: function renderLoaded() {\n      this.$loadingIcon.addClass('fa-chevron-down').removeClass('fa-spinner fa-spin');\n    }\n  }, {\n    key: 'reportSelection',\n    value: function reportSelection(query, el, e, data) {\n      e.preventDefault();\n      return this.mediator.selectTemplateFile(this, query, data);\n    }\n  }]);\n\n  return FileTemplateSelector;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FileTemplateSelector);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"lwLq\")))\n\n/***/ }),\n\n/***/ \"l5bu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__file_template_selector__ = __webpack_require__(\"TXRQ\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar FileTemplateTypeSelector = function (_FileTemplateSelector) {\n  _inherits(FileTemplateTypeSelector, _FileTemplateSelector);\n\n  function FileTemplateTypeSelector(_ref) {\n    var mediator = _ref.mediator,\n        dropdownData = _ref.dropdownData;\n\n    _classCallCheck(this, FileTemplateTypeSelector);\n\n    var _this = _possibleConstructorReturn(this, (FileTemplateTypeSelector.__proto__ || Object.getPrototypeOf(FileTemplateTypeSelector)).call(this, mediator));\n\n    _this.mediator = mediator;\n    _this.config = {\n      dropdown: '.js-template-type-selector',\n      wrapper: '.js-template-type-selector-wrap',\n      dropdownData: dropdownData\n    };\n    return _this;\n  }\n\n  _createClass(FileTemplateTypeSelector, [{\n    key: 'initDropdown',\n    value: function initDropdown() {\n      var _this2 = this;\n\n      this.$dropdown.glDropdown({\n        data: this.config.dropdownData,\n        filterable: false,\n        selectable: true,\n        toggleLabel: function toggleLabel(item) {\n          return item.name;\n        },\n        clicked: function clicked(item, el, e) {\n          return _this2.mediator.selectTemplateType(item, el, e);\n        },\n        text: function text(item) {\n          return item.name;\n        }\n      });\n    }\n  }]);\n\n  return FileTemplateTypeSelector;\n}(__WEBPACK_IMPORTED_MODULE_0__file_template_selector__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FileTemplateTypeSelector);\n\n/***/ }),\n\n/***/ \"r6am\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__file_template_selector__ = __webpack_require__(\"TXRQ\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global Api */\n\n\n\nvar BlobCiYamlSelector = function (_FileTemplateSelector) {\n  _inherits(BlobCiYamlSelector, _FileTemplateSelector);\n\n  function BlobCiYamlSelector(_ref) {\n    var mediator = _ref.mediator;\n\n    _classCallCheck(this, BlobCiYamlSelector);\n\n    var _this = _possibleConstructorReturn(this, (BlobCiYamlSelector.__proto__ || Object.getPrototypeOf(BlobCiYamlSelector)).call(this, mediator));\n\n    _this.config = {\n      key: 'gitlab-ci-yaml',\n      name: '.gitlab-ci.yml',\n      pattern: /(.gitlab-ci.yml)/,\n      endpoint: Api.gitlabCiYml,\n      dropdown: '.js-gitlab-ci-yml-selector',\n      wrapper: '.js-gitlab-ci-yml-selector-wrap'\n    };\n    return _this;\n  }\n\n  _createClass(BlobCiYamlSelector, [{\n    key: 'initDropdown',\n    value: function initDropdown() {\n      var _this2 = this;\n\n      // maybe move to super class as well\n      this.$dropdown.glDropdown({\n        data: this.$dropdown.data('data'),\n        filterable: true,\n        selectable: true,\n        toggleLabel: function toggleLabel(item) {\n          return item.name;\n        },\n        search: {\n          fields: ['name']\n        },\n        clicked: function clicked(query, el, e) {\n          return _this2.reportSelection(query.name, el, e);\n        },\n        text: function text(item) {\n          return item.name;\n        }\n      });\n    }\n  }]);\n\n  return BlobCiYamlSelector;\n}(__WEBPACK_IMPORTED_MODULE_0__file_template_selector__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BlobCiYamlSelector);\n\n/***/ }),\n\n/***/ \"sLet\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__file_template_selector__ = __webpack_require__(\"TXRQ\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* global Api */\n\n\n\nvar BlobLicenseSelector = function (_FileTemplateSelector) {\n  _inherits(BlobLicenseSelector, _FileTemplateSelector);\n\n  function BlobLicenseSelector(_ref) {\n    var mediator = _ref.mediator;\n\n    _classCallCheck(this, BlobLicenseSelector);\n\n    var _this = _possibleConstructorReturn(this, (BlobLicenseSelector.__proto__ || Object.getPrototypeOf(BlobLicenseSelector)).call(this, mediator));\n\n    _this.config = {\n      key: 'license',\n      name: 'LICENSE',\n      pattern: /^(.+\\/)?(licen[sc]e|copying)($|\\.)/i,\n      endpoint: Api.licenseText,\n      dropdown: '.js-license-selector',\n      wrapper: '.js-license-selector-wrap'\n    };\n    return _this;\n  }\n\n  _createClass(BlobLicenseSelector, [{\n    key: 'initDropdown',\n    value: function initDropdown() {\n      var _this2 = this;\n\n      this.$dropdown.glDropdown({\n        data: this.$dropdown.data('data'),\n        filterable: true,\n        selectable: true,\n        toggleLabel: function toggleLabel(item) {\n          return item.name;\n        },\n        search: {\n          fields: ['name']\n        },\n        clicked: function clicked(query, el, e) {\n          var data = {\n            project: _this2.$dropdown.data('project'),\n            fullname: _this2.$dropdown.data('fullname')\n          };\n\n          _this2.reportSelection(query.id, el, e, data);\n        },\n        text: function text(item) {\n          return item.name;\n        }\n      });\n    }\n  }]);\n\n  return BlobLicenseSelector;\n}(__WEBPACK_IMPORTED_MODULE_0__file_template_selector__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BlobLicenseSelector);\n\n/***/ })\n\n},[\"CtDz\"]);\n\n\n// WEBPACK FOOTER //\n// blob.fde20157164f3b855ad4.bundle.js","/* global ace */\n\nimport TemplateSelectorMediator from '../blob/file_template_mediator';\n\nexport default class EditBlob {\n  constructor(assetsPath, aceMode, currentAction) {\n    this.configureAceEditor(aceMode, assetsPath);\n    this.initModePanesAndLinks();\n    this.initSoftWrap();\n    this.initFileSelectors(currentAction);\n  }\n\n  configureAceEditor(aceMode, assetsPath) {\n    ace.config.set('modePath', `${assetsPath}/ace`);\n    ace.config.loadModule('ace/ext/searchbox');\n\n    this.editor = ace.edit('editor');\n\n    // This prevents warnings re: automatic scrolling being logged\n    this.editor.$blockScrolling = Infinity;\n\n    this.editor.focus();\n\n    if (aceMode) {\n      this.editor.getSession().setMode(`ace/mode/${aceMode}`);\n    }\n  }\n\n  initFileSelectors(currentAction) {\n    this.fileTemplateMediator = new TemplateSelectorMediator({\n      currentAction,\n      editor: this.editor,\n    });\n  }\n\n  initModePanesAndLinks() {\n    this.$editModePanes = $('.js-edit-mode-pane');\n    this.$editModeLinks = $('.js-edit-mode a');\n    this.$editModeLinks.on('click', e => this.editModeLinkClickHandler(e));\n  }\n\n  editModeLinkClickHandler(e) {\n    e.preventDefault();\n\n    const currentLink = $(e.target);\n    const paneId = currentLink.attr('href');\n    const currentPane = this.$editModePanes.filter(paneId);\n\n    this.$editModeLinks.parent().removeClass('active hover');\n\n    currentLink.parent().addClass('active hover');\n\n    this.$editModePanes.hide();\n\n    currentPane.fadeIn(200);\n\n    if (paneId === '#preview') {\n      this.$toggleButton.hide();\n      return $.post(currentLink.data('preview-url'), {\n        content: this.editor.getValue(),\n      }, (response) => {\n        currentPane.empty().append(response);\n        return currentPane.renderGFM();\n      });\n    }\n\n    this.$toggleButton.show();\n\n    return this.editor.focus();\n  }\n\n  initSoftWrap() {\n    this.isSoftWrapped = false;\n    this.$toggleButton = $('.soft-wrap-toggle');\n    this.$toggleButton.on('click', () => this.toggleSoftWrap());\n  }\n\n  toggleSoftWrap() {\n    this.isSoftWrapped = !this.isSoftWrapped;\n    this.$toggleButton.toggleClass('soft-wrap-active', this.isSoftWrapped);\n    this.editor.getSession().setUseWrapMode(this.isSoftWrapped);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob_edit/edit_blob.js","/* global Api */\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobGitignoreSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'gitignore',\n      name: '.gitignore',\n      pattern: /(.gitignore)/,\n      endpoint: Api.gitignoreText,\n      dropdown: '.js-gitignore-selector',\n      wrapper: '.js-gitignore-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: (query, el, e) => this.reportSelection(query.name, el, e),\n      text: item => item.name,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob/template_selectors/gitignore_selector.js","/* eslint-disable func-names, space-before-function-paren, prefer-arrow-callback, no-var, quotes, vars-on-top, no-unused-vars, no-new, max-len */\n/* global EditBlob */\n/* global NewCommitForm */\n\nimport EditBlob from './edit_blob';\nimport BlobFileDropzone from '../blob/blob_file_dropzone';\n\n$(() => {\n  const editBlobForm = $('.js-edit-blob-form');\n  const uploadBlobForm = $('.js-upload-blob-form');\n\n  if (editBlobForm.length) {\n    const urlRoot = editBlobForm.data('relative-url-root');\n    const assetsPath = editBlobForm.data('assets-prefix');\n    const blobLanguage = editBlobForm.data('blob-language');\n    const currentAction = $('.js-file-title').data('current-action');\n\n    new EditBlob(`${urlRoot}${assetsPath}`, blobLanguage, currentAction);\n    new NewCommitForm(editBlobForm);\n  }\n\n  if (uploadBlobForm.length) {\n    const method = uploadBlobForm.data('method');\n\n    new BlobFileDropzone(uploadBlobForm, method);\n    new NewCommitForm(uploadBlobForm);\n\n    window.gl.utils.disableButtonIfEmptyField(\n      uploadBlobForm.find('.js-commit-message'),\n      '.btn-upload-file',\n    );\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./blob_edit/blob_bundle.js","/* eslint-disable func-names, object-shorthand, prefer-arrow-callback */\n/* global Dropzone */\n\nexport default class BlobFileDropzone {\n  constructor(form, method) {\n    const formDropzone = form.find('.dropzone');\n    Dropzone.autoDiscover = false;\n\n    const dropzone = formDropzone.dropzone({\n      autoDiscover: false,\n      autoProcessQueue: false,\n      url: form.attr('action'),\n      // Rails uses a hidden input field for PUT\n      // http://stackoverflow.com/questions/21056482/how-to-set-method-put-in-form-tag-in-rails\n      method: method,\n      clickable: true,\n      uploadMultiple: false,\n      paramName: 'file',\n      maxFilesize: gon.max_file_size || 10,\n      parallelUploads: 1,\n      maxFiles: 1,\n      addRemoveLinks: true,\n      previewsContainer: '.dropzone-previews',\n      headers: {\n        'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content'),\n      },\n      init: function () {\n        this.on('addedfile', function () {\n          $('.dropzone-alerts').html('').hide();\n        });\n        this.on('success', function (header, response) {\n          window.location.href = response.filePath;\n        });\n        this.on('maxfilesexceeded', function (file) {\n          this.removeFile(file);\n        });\n        this.on('sending', function (file, xhr, formData) {\n          formData.append('target_branch', form.find('input[name=\"target_branch\"]').val());\n          formData.append('create_merge_request', form.find('.js-create-merge-request').val());\n          formData.append('commit_message', form.find('.js-commit-message').val());\n        });\n      },\n      // Override behavior of adding error underneath preview\n      error: function (file, errorMessage) {\n        const stripped = $('<div/>').html(errorMessage).text();\n        $('.dropzone-alerts').html(`Error uploading file: \"${stripped}\"`).show();\n        this.removeFile(file);\n      },\n    });\n\n    const submitButton = form.find('#submit-all')[0];\n    submitButton.addEventListener('click', function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if (dropzone[0].dropzone.getQueuedFiles().length === 0) {\n        // eslint-disable-next-line no-alert\n        alert('Please select a file');\n      }\n      dropzone[0].dropzone.processQueue();\n      return false;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob/blob_file_dropzone.js","/* global Api */\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class DockerfileSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'dockerfile',\n      name: 'Dockerfile',\n      pattern: /(Dockerfile)/,\n      endpoint: Api.dockerfileYml,\n      dropdown: '.js-dockerfile-selector',\n      wrapper: '.js-dockerfile-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    // maybe move to super class as well\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: (query, el, e) => this.reportSelection(query.name, el, e),\n      text: item => item.name,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob/template_selectors/dockerfile_selector.js","/* eslint-disable class-methods-use-this */\n/* global Flash */\n\nimport FileTemplateTypeSelector from './template_selectors/type_selector';\nimport BlobCiYamlSelector from './template_selectors/ci_yaml_selector';\nimport DockerfileSelector from './template_selectors/dockerfile_selector';\nimport GitignoreSelector from './template_selectors/gitignore_selector';\nimport LicenseSelector from './template_selectors/license_selector';\n\nexport default class FileTemplateMediator {\n  constructor({ editor, currentAction }) {\n    this.editor = editor;\n    this.currentAction = currentAction;\n\n    this.initTemplateSelectors();\n    this.initTemplateTypeSelector();\n    this.initDomElements();\n    this.initDropdowns();\n    this.initPageEvents();\n  }\n\n  initTemplateSelectors() {\n    // Order dictates template type dropdown item order\n    this.templateSelectors = [\n      GitignoreSelector,\n      BlobCiYamlSelector,\n      DockerfileSelector,\n      LicenseSelector,\n    ].map(TemplateSelectorClass => new TemplateSelectorClass({ mediator: this }));\n  }\n\n  initTemplateTypeSelector() {\n    this.typeSelector = new FileTemplateTypeSelector({\n      mediator: this,\n      dropdownData: this.templateSelectors\n        .map((templateSelector) => {\n          const cfg = templateSelector.config;\n\n          return {\n            name: cfg.name,\n            key: cfg.key,\n          };\n        }),\n    });\n  }\n\n  initDomElements() {\n    const $templatesMenu = $('.template-selectors-menu');\n    const $undoMenu = $templatesMenu.find('.template-selectors-undo-menu');\n    const $fileEditor = $('.file-editor');\n\n    this.$templatesMenu = $templatesMenu;\n    this.$undoMenu = $undoMenu;\n    this.$undoBtn = $undoMenu.find('button');\n    this.$templateSelectors = $templatesMenu.find('.template-selector-dropdowns-wrap');\n    this.$filenameInput = $fileEditor.find('.js-file-path-name-input');\n    this.$fileContent = $fileEditor.find('#file-content');\n    this.$commitForm = $fileEditor.find('form');\n    this.$navLinks = $fileEditor.find('.nav-links');\n  }\n\n  initDropdowns() {\n    if (this.currentAction === 'create') {\n      this.typeSelector.show();\n    } else {\n      this.hideTemplateSelectorMenu();\n    }\n\n    this.displayMatchedTemplateSelector();\n  }\n\n  initPageEvents() {\n    this.listenForFilenameInput();\n    this.prepFileContentForSubmit();\n    this.listenForPreviewMode();\n  }\n\n  listenForFilenameInput() {\n    this.$filenameInput.on('keyup blur', () => {\n      this.displayMatchedTemplateSelector();\n    });\n  }\n\n  prepFileContentForSubmit() {\n    this.$commitForm.submit(() => {\n      this.$fileContent.val(this.editor.getValue());\n    });\n  }\n\n  listenForPreviewMode() {\n    this.$navLinks.on('click', 'a', (e) => {\n      const urlPieces = e.target.href.split('#');\n      const hash = urlPieces[1];\n      if (hash === 'preview') {\n        this.hideTemplateSelectorMenu();\n      } else if (hash === 'editor') {\n        this.showTemplateSelectorMenu();\n      }\n    });\n  }\n\n  selectTemplateType(item, el, e) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    this.templateSelectors.forEach((selector) => {\n      if (selector.config.key === item.key) {\n        selector.show();\n      } else {\n        selector.hide();\n      }\n    });\n\n    this.typeSelector.setToggleText(item.name);\n\n    this.cacheToggleText();\n  }\n\n  selectTemplateFile(selector, query, data) {\n    selector.renderLoading();\n    // in case undo menu is already already there\n    this.destroyUndoMenu();\n    this.fetchFileTemplate(selector.config.endpoint, query, data)\n      .then((file) => {\n        this.showUndoMenu();\n        this.setEditorContent(file);\n        this.setFilename(selector.config.name);\n        selector.renderLoaded();\n      })\n      .catch(err => new Flash(`An error occurred while fetching the template: ${err}`));\n  }\n\n  displayMatchedTemplateSelector() {\n    const currentInput = this.getFilename();\n    this.templateSelectors.forEach((selector) => {\n      const match = selector.config.pattern.test(currentInput);\n\n      if (match) {\n        this.typeSelector.show();\n        this.selectTemplateType(selector.config);\n        this.showTemplateSelectorMenu();\n      }\n    });\n  }\n\n  fetchFileTemplate(apiCall, query, data) {\n    return new Promise((resolve) => {\n      const resolveFile = file => resolve(file);\n\n      if (!data) {\n        apiCall(query, resolveFile);\n      } else {\n        apiCall(query, data, resolveFile);\n      }\n    });\n  }\n\n  setEditorContent(file) {\n    if (!file && file !== '') return;\n\n    const newValue = file.content || file;\n\n    this.editor.setValue(newValue, 1);\n\n    this.editor.focus();\n\n    this.editor.navigateFileStart();\n  }\n\n  findTemplateSelectorByKey(key) {\n    return this.templateSelectors.find(selector => selector.config.key === key);\n  }\n\n  showUndoMenu() {\n    this.$undoMenu.removeClass('hidden');\n\n    this.$undoBtn.on('click', () => {\n      this.restoreFromCache();\n      this.destroyUndoMenu();\n    });\n  }\n\n  destroyUndoMenu() {\n    this.cacheFileContents();\n    this.cacheToggleText();\n    this.$undoMenu.addClass('hidden');\n    this.$undoBtn.off('click');\n  }\n\n  hideTemplateSelectorMenu() {\n    this.$templatesMenu.hide();\n  }\n\n  showTemplateSelectorMenu() {\n    this.$templatesMenu.show();\n  }\n\n  cacheToggleText() {\n    this.cachedToggleText = this.getTemplateSelectorToggleText();\n  }\n\n  cacheFileContents() {\n    this.cachedContent = this.editor.getValue();\n    this.cachedFilename = this.getFilename();\n  }\n\n  restoreFromCache() {\n    this.setEditorContent(this.cachedContent);\n    this.setFilename(this.cachedFilename);\n    this.setTemplateSelectorToggleText();\n  }\n\n  getTemplateSelectorToggleText() {\n    return this.$templateSelectors\n      .find('.js-template-selector-wrap:visible .dropdown-toggle-text')\n      .text();\n  }\n\n  setTemplateSelectorToggleText() {\n    return this.$templateSelectors\n      .find('.js-template-selector-wrap:visible .dropdown-toggle-text')\n      .text(this.cachedToggleText);\n  }\n\n  getTypeSelectorToggleText() {\n    return this.typeSelector.getToggleText();\n  }\n\n  getFilename() {\n    return this.$filenameInput.val();\n  }\n\n  setFilename(name) {\n    this.$filenameInput.val(name);\n  }\n\n  getSelected() {\n    return this.templateSelectors.find(selector => selector.selected);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob/file_template_mediator.js","/* global Api */\n\nexport default class FileTemplateSelector {\n  constructor(mediator) {\n    this.mediator = mediator;\n    this.$dropdown = null;\n    this.$wrapper = null;\n  }\n\n  init() {\n    const cfg = this.config;\n\n    this.$dropdown = $(cfg.dropdown);\n    this.$wrapper = $(cfg.wrapper);\n    this.$loadingIcon = this.$wrapper.find('.fa-chevron-down');\n    this.$dropdownToggleText = this.$wrapper.find('.dropdown-toggle-text');\n\n    this.initDropdown();\n  }\n\n  show() {\n    if (this.$dropdown === null) {\n      this.init();\n    }\n\n    this.$wrapper.removeClass('hidden');\n  }\n\n  hide() {\n    if (this.$dropdown !== null) {\n      this.$wrapper.addClass('hidden');\n    }\n  }\n\n  getToggleText() {\n    return this.$dropdownToggleText.text();\n  }\n\n  setToggleText(text) {\n    this.$dropdownToggleText.text(text);\n  }\n\n  renderLoading() {\n    this.$loadingIcon\n      .addClass('fa-spinner fa-spin')\n      .removeClass('fa-chevron-down');\n  }\n\n  renderLoaded() {\n    this.$loadingIcon\n      .addClass('fa-chevron-down')\n      .removeClass('fa-spinner fa-spin');\n  }\n\n  reportSelection(query, el, e, data) {\n    e.preventDefault();\n    return this.mediator.selectTemplateFile(this, query, data);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./blob/file_template_selector.js","import FileTemplateSelector from '../file_template_selector';\n\nexport default class FileTemplateTypeSelector extends FileTemplateSelector {\n  constructor({ mediator, dropdownData }) {\n    super(mediator);\n    this.mediator = mediator;\n    this.config = {\n      dropdown: '.js-template-type-selector',\n      wrapper: '.js-template-type-selector-wrap',\n      dropdownData,\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.config.dropdownData,\n      filterable: false,\n      selectable: true,\n      toggleLabel: item => item.name,\n      clicked: (item, el, e) => this.mediator.selectTemplateType(item, el, e),\n      text: item => item.name,\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob/template_selectors/type_selector.js","/* global Api */\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobCiYamlSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'gitlab-ci-yaml',\n      name: '.gitlab-ci.yml',\n      pattern: /(.gitlab-ci.yml)/,\n      endpoint: Api.gitlabCiYml,\n      dropdown: '.js-gitlab-ci-yml-selector',\n      wrapper: '.js-gitlab-ci-yml-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    // maybe move to super class as well\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: (query, el, e) => this.reportSelection(query.name, el, e),\n      text: item => item.name,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob/template_selectors/ci_yaml_selector.js","/* global Api */\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobLicenseSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'license',\n      name: 'LICENSE',\n      pattern: /^(.+\\/)?(licen[sc]e|copying)($|\\.)/i,\n      endpoint: Api.licenseText,\n      dropdown: '.js-license-selector',\n      wrapper: '.js-license-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: (query, el, e) => {\n        const data = {\n          project: this.$dropdown.data('project'),\n          fullname: this.$dropdown.data('fullname'),\n        };\n\n        this.reportSelection(query.id, el, e, data);\n      },\n      text: item => item.name,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blob/template_selectors/license_selector.js"],"sourceRoot":""}